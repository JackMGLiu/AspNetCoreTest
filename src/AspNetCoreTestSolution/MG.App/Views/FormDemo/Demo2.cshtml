
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Demo2</title>
    <link href="~/jquery-ui/themes/base/jquery-ui.css" rel="stylesheet" />
    <link href="~/layui/css/layui.css" rel="stylesheet" />
    <link href="~/fontawesome/css/font-awesome.min.css" rel="stylesheet" />
    <style>
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            margin-bottom: 10px;
        }

        li {
            margin: 5px;
            padding: 5px;
            width: 150px;
        }
    </style>
</head>
<body>
    <div class="layui-container">
        <br />
        <blockquote class="layui-elem-quote">自定义表单布局设计</blockquote>
        <div class="layui-row">
            <div id="formfield" class="layui-col-md3">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;margin-right: 10px;">
                    <legend>表单通用字段</legend>
                </fieldset>
                <div class="layui-btn-group">
                    <div id="tepltext" class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-font" aria-hidden="true"></i> 单行文本</div>
                    @*<button id="draggable" class="layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-font" aria-hidden="true"></i> 单行文本</button>*@
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-sort-numeric-asc" aria-hidden="true"></i> 数字</div>
                </div>
                <br />
                <div class="layui-btn-group">
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-outdent" aria-hidden="true"></i> 多行文本</div>
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-check-square" aria-hidden="true"></i> 多选框</div>
                </div>
                <br />
                <div class="layui-btn-group">
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-calendar" aria-hidden="true"></i> 日期类型</div>
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-clock-o" aria-hidden="true"></i> 时间类型</div>
                </div>
                <br />
                <div class="layui-btn-group">
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-upload" aria-hidden="true"></i> 文件上传</div>
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-file-photo-o" aria-hidden="true"></i> 图片</div>
                </div>
                <br />
                <div class="layui-btn-group">
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-minus" aria-hidden="true"></i> 分隔符</div>
                    <div class="draggable layui-btn layui-btn-primary" style="width: 100px;"><i class="fa fa-code" aria-hidden="true"></i> HTML</div>
                </div>
            </div>
            <div class="layui-col-md6">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;margin-right: 10px;">
                    <legend>表单设计区域</legend>
                </fieldset>
                <table id="sortcontent" style="border: 1px solid #000000; width: 560px; height: 600px;">
                    <tr>测试表单标题</tr>
                    <tr></tr>
                </table>
            </div>
            <div class="layui-col-md3">
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
                    <legend>表单相关属性</legend>
                </fieldset>
              
            </div>
        </div>
    </div>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/layui/layui.js"></script>
    <script src="~/jquery-ui/jquery-ui.js"></script>
    <script>
        $(function () {
            $("#sortcontent").sortable({
                cursor: "move",
                items: "tr", //只是tr可以拖动
                opacity: 0.6, //拖动时，透明度为0.6
                revert: true, //释放时，增加动画
                update: function (event, ui) { //更新排序之后
                    //alert(ui);
                }
            });

            $("#formfield .draggable").draggable({
                connectToSortable: "#sortcontent",
                opacity: 0.6, //拖动时，透明度为0.6
                helper: "clone",
                revert: "invalid",
                cursor: "move",
                stop: function (event, ui) {
                    var tid = ui.helper.context.id;
                    var rhtml = '';
                    if (tid === 'tepltext') {
                        rhtml = '<input type="text" id="demo1"/>';
                        $('#sortcontent').append('<tr>12345'+rhtml+'</tr>');
                    }
                }
                //revert: true, //释放时，增加动画
                //containment: "document",
                //helper: "clone",
                //cursor: "move"
            });
            $("div").disableSelection();
        });
    </script>
</body>
</html>
